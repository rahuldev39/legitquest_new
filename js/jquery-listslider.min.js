jQuery.fn.extend({listslider:function(r){function e(e){var t=this;t.getSummedWidthOfListItems=function(){for(var r=0,e=t.ul.find("li"),i=0;i<e.length;i++)r+=$(e[i]).outerWidth();return r+10},t.setupParentDiv=function(){t.parent=t.ul.parent(),t.parent.css("position","relative")},t.showPaginationIfWrapperIsHidden=function(){var r=t.getSummedWidthOfListItems();$(t.parent).width()<r?$(t.parent).find(".listslider-arrow").addClass("active"):$(t.parent).find(".listslider-arrow").removeClass("active")},t.addWrapper=function(){t.ul.wrap('<div class="listslider-container"><div class="listslider-wrapper"></div></div>'),t.wrapper=$(t.ul.closest(".listslider-wrapper"));var r=t.getSummedWidthOfListItems();t.wrapper.css("width",r+"px")},t.addContainer=function(){t.container=$(t.ul.closest(".listslider-container"))},t.addArrows=function(){t.parent.append('<div class="listslider-left listslider-arrow">'+r.left_label+"</div>"),t.parent.append('<div class="listslider-right listslider-arrow">'+r.right_label+"</div>"),t.right_arrow=$(".listslider-right.listslider-arrow"),t.left_arrow=$(".listslider-left.listslider-arrow")},t.scroll=function(r){t.container.animate({scrollLeft:t.container.scrollLeft()+r})},$(window).on("resize",function(){t.showPaginationIfWrapperIsHidden()}),t.attachEventsToElements=function(){t.container.on("touchstart",function(){i.touchHandler.onStartedDragging()}),t.container.on("touchend",function(){i.touchHandler.onStoppedDragging()}),t.container.on("touchmove",function(r){if(i.touchHandler.isUserDragging()){var e=i.touchHandler.getHorizontalDifference();if(0==e)return void i.touchHandler.onUserDragged(r);t.container.scrollLeft(t.container.scrollLeft()-e),i.touchHandler.onUserDragged(r)}}),$(t.parent).on("click",".listslider-arrow",function(){t.scroll($(this).hasClass("listslider-left")?-1*r.scroll_offset:r.scroll_offset)})},t.ul=$(e),t.ul.addClass("listslider"),t.setupParentDiv(),t.addWrapper(),t.addContainer(),t.addArrows(),t.attachEventsToElements(),t.showPaginationIfWrapperIsHidden()}var i=this;void 0==r&&(r={}),void 0===r.left_label&&(r.left_label="left"),void 0===r.right_label&&(r.right_label="right"),void 0===r.scroll_offset&&(r.scroll_offset=100);for(var t=0;t<this.length;t++)e($(this[t]));i.touchHandler=function(){var r=this;return r.previous_scroll=void 0,r.last_difference=0,r.is_dragging=!1,{isUserDragging:function(){return r.is_dragging},onUserDragged:function(e){var i=e.originalEvent.touches[0];void 0!==r.previous_scroll&&(r.last_difference+=i.pageX-r.previous_scroll.pageX),r.previous_scroll=i},getHorizontalDifference:function(){var e=r.last_difference;return r.last_difference=0,e},onStartedDragging:function(){r.is_dragging=!0,r.last_difference=0,r.previous_scroll=void 0},onStoppedDragging:function(){r.is_dragging=!1,r.last_difference=0,r.previous_scroll=void 0}}}()}});